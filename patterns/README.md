# 设计模式

## OOP

面向对象程序设计（Object Oriented Programming，OOP）是一种计算机编程架构。OOP 的一条基本原则是计算机程序由单个能够起到子程序作用的单元或对象组合而成。OOP 达到了软件工程的三个主要目标：重用性、灵活性和扩展性。面向对象编程的三大特点：封装性、继承性和多态性。

### OOP 原则

#### 单一职责原则(SRP)

一个类只负责一个职责（功能模块）。

#### 开放封闭原则(OCP)

一个类、方法或模块的扩展性要保持开放，可扩展但不影响源代码（封闭式更改）

#### 替换原则(LSP)

子类可以替换父类，并且不会导致程序错误。

#### 接口隔离原则(ISP)

一个类对另一个类的依赖应该建立在最小的接口上。

#### 依赖倒置原则(DIP)

高层次的模块不应该依赖于低层次的模块，它们应该依赖于抽象。

## 常用模式

### 参数可选，开箱即用—函数式选项模式

### 通过组合扩展功能—装饰模式

### 隐藏复杂对象构造过程—工厂模式

### 一步步构建复杂对象—建造者模式

## 其他

### 工厂模式VS建造者模式

工厂方法模式注重的是整体对象的创建方法，而建造者模式注重的是部件构建的过程，旨在通过一步一步地精确构造创建出一个复杂的对象。

> 举个简单例子来说明两者的差异，如要制造一个超人，如果使用工厂方法模式，直接产生出来的就是一个力大无穷、能够飞翔、内裤外穿的超人；而如果使用建造者模式，则需要组装手、头、脚、躯干等部分，然后再把内裤外穿，于是一个超人就诞生了。[引用自 https://www.cnblogs.com/ChinaHook/p/7471470.html]

### 什么是控制反转(Ioc—Inversion of Control)

控制反转不是一种技术，只是一种思想，一个重要的面向对象编程的法则，它能指导我们如何设计出松耦合、更优良的程序，传统应用程序都是由我们在类内部主动创建依赖对象，从而导致类与类之间高耦合，难于测试；有了 IoC 容器后，把创建和查找依赖对象的控制权交给了容器，由容器进行注入组合对象，所以对象与对象之间是 松散耦合，这样也方便测试，利于功能复用，更重要的是使得程序的整个体系结构变得非常灵活。

### 什么是依赖注入(DI—Dependency Injection)

组件之间依赖关系由容器在运行期决定，形象的说，即由容器动态的将某个依赖关系注入到组件之中。依赖注入的目的并非为软件系统带来更多功能，而是为了提升组件重用的频率，并为系统搭建一个灵活、可扩展的平台。通过依赖注入机制，我们只需要通过简单的配置，而无需任何代码就可指定目标需要的资源，完成自身的业务逻辑，而不需要关心具体的资源来自何处，由谁实现。

控制反转和依赖注入是同一个概念的不同角度描述。简而言之，当依赖的外部组件时，不要直接从内部 new，而是从外部传入。

